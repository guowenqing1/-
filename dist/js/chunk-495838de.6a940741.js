(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-495838de"],{"0e8f":function(t,e,a){"use strict";var n=a("2307"),r=a.n(n);r.a},"15ae":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"gridView",staticClass:"grid-view"},[t._t("default")],2)},r=[],i=(a("c5f6"),{name:"GridView",props:{cols:{type:Number,default:2},hMargin:{type:Number,default:8},vMargin:{type:Number,default:8},itemSpace:{type:Number,default:8},lineSpace:{type:Number,default:8}},mounted:function(){setTimeout(this._autoLayout,20)},updated:function(){this._autoLayout()},methods:{_autoLayout:function(){var t=this.$refs.gridView,e=t.children;t.style.padding="".concat(this.vMargin,"px ").concat(this.hMargin,"px");for(var a=(t.clientWidth-2*this.hMargin-(this.cols-1)*this.itemSpace)/this.cols,n=0;n<e.length;n++){var r=e[n];r.style.width=a+"px",(n+1)%this.cols!==0&&(r.style.marginRight=this.itemSpace+"px"),n>=this.cols&&(r.style.marginTop=this.lineSpace+"px")}}}}),c=i,s=(a("fe53"),a("2877")),o=Object(s["a"])(c,n,r,!1,null,"66b047d8",null);e["a"]=o.exports},"21ff":function(t,e,a){},2307:function(t,e,a){},"4be6":function(t,e,a){"use strict";var n=a("21ff"),r=a.n(n);r.a},"6afa":function(t,e,a){},"70c7":function(t,e,a){"use strict";var n=a("c6be"),r=a.n(n);r.a},"88e6":function(t,e,a){},"9bd0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-control"},t._l(t.titles,function(e,n){return a("div",{key:e,staticClass:"tab-control-item",class:{active:t.currentIndex===n},on:{click:function(e){return t.itemClick(n)}}},[a("span",[t._v(t._s(e))])])}),0)},r=[],i={name:"TabControl",props:{titles:{type:Array,default:function(){return["流行","新款","精选"]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},c=i,s=(a("70c7"),a("2877")),o=Object(s["a"])(c,n,r,!1,null,"d8e8502e",null);e["a"]=o.exports},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"category"}},[a("nav-bar",{staticClass:"navbar"},[a("div",{attrs:{slot:"nav-center"},slot:"nav-center"},[t._v("美人衣柜")])]),a("div",{staticClass:"content"},[a("tab-menu",{attrs:{categories:t.categories},on:{selectItem:t.selectItem}}),a("scroll",{attrs:{id:"tab-content",data:[t.categoryData]}},[a("tab-content-category",{attrs:{subcategories:t.showSubcategory}}),a("tab-control",{attrs:{titles:["综合","新品","销量"]},on:{tabClick:t.tabClick}}),a("tab-content-detail",{attrs:{"category-detail":t.showCategoryDetail}})],1)],1)],1)},r=[],i=a("cebc"),c=a("5d17"),s=a("a7ac"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scroll",{attrs:{id:"tab-menu"}},[a("div",[a("div",{staticClass:"menu-list"},t._l(t.categories,function(e,n){return a("div",{key:n.id,staticClass:"menu-list-item",class:{active:n===t.currentIndex},on:{click:function(e){return t.itemClick(n)}}},[t._v(t._s(e.title))])}),0)])])},u=[],l={name:"TabMenu",components:{Scroll:c["a"]},props:{categories:Array},data:function(){return{currentIndex:0}},created:function(){},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("selectItem",t)}}},f=l,d=(a("cf19"),a("2877")),g=Object(d["a"])(f,o,u,!1,null,"9af9c01c",null),b=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-content-category"},[t.subcategories.list?a("grid-view",{attrs:{cols:3,lineSpace:15,"v-margin":20}},t._l(t.subcategories.list,function(e,n){return a("div",{key:n,staticClass:"item"},[a("a",{attrs:{href:e.link}},[a("img",{staticClass:"item-img",attrs:{src:e.image,alt:""}}),a("div",{staticClass:"item.title"},[t._v(t._s(e.title))])])])}),0):t._e()],1)},h=[],m=a("15ae"),p={name:"TabContentCategory",components:{GridView:m["a"]},props:{subcategories:{type:Object,default:function(){return{}}}}},v=p,_=(a("0e8f"),Object(d["a"])(v,y,h,!1,null,"36560d65",null)),C=_.exports,x=a("9bd0"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("grid-view",t._l(t.categoryDetail,function(t,e){return a("goods-list-item",{key:e,attrs:{goods:t}})}),1)},D=[],w=a("dfbc"),I={name:"TabContentdetail",components:{GridView:m["a"],GoodsListItem:w["a"]},props:{categoryDetail:{type:Array,default:function(){return[]}}}},T=I,S=Object(d["a"])(T,k,D,!1,null,"5225f89f",null),j=S.exports,O=a("b95e"),$={data:function(){return{currentType:O["b"]}},methods:{tabClick:function(t){switch(t){case 0:this.currentType=O["b"];break;case 1:this.currentType=O["a"];break;case 2:this.currentType=O["c"];break}}}},M=a("a137");function E(){return Object(M["a"])({url:"/category"})}function N(t){return Object(M["a"])({url:"/subcategory",params:{maitKey:t}})}function V(t,e){return Object(M["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var G={name:"Catrgory",components:{Scroll:c["a"],NavBar:s["a"],TabMenu:b,TabContentCategory:C,TabControl:x["a"],TabContentDetail:j},mixins:[$],data:function(){return{categories:[],categoryData:{},currentIndex:-1}},created:function(){this._getCategory()},computed:{showSubcategory:function(){return-1===this.currentIndex?{}:this.categoryData[this.currentIndex].subcategories},showCategoryDetail:function(){return-1===this.currentIndex?[]:this.categoryData[this.currentIndex].categoryDetail[this.currentType]}},methods:{_getCategory:function(){var t=this;E().then(function(e){t.categories=e.data.category.list;for(var a=0;a<t.categories.length;a++)t.categoryData[a]={subcategories:{},categoryDetail:{pop:[],new:[],sell:[]}};t._getSubcategories(0)})},_getSubcategories:function(t){var e=this;this.currentIndex=t;var a=this.categories[t].maitKey;N(a).then(function(a){e.categoryData[t].subcategories=a.data,e.categoryData=Object(i["a"])({},e.categoryData),e._getCategoryDetail(O["b"]),e._getCategoryDetail(O["a"]),e._getCategoryDetail(O["c"])})},_getCategoryDetail:function(t){var e=this,a=this.categories[this.currentIndex].miniWallkey;V(a,t).then(function(a){e.categoryData[e.currentIndex].categoryDetail[t]=a,e.categoryData=Object(i["a"])({},e.categoryData)})},selectItem:function(t){this._getSubcategories(t)}}},L=G,A=(a("4be6"),Object(d["a"])(L,n,r,!1,null,"3fa735bd",null));e["default"]=A.exports},c6be:function(t,e,a){},cf19:function(t,e,a){"use strict";var n=a("88e6"),r=a.n(n);r.a},fe53:function(t,e,a){"use strict";var n=a("6afa"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-495838de.6a940741.js.map